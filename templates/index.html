<!-- index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Height Prediction App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f0f4f8, #e6e9f0);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 bg-slate-100">

    <!-- Main Card Container with a glassmorphism effect and new colors -->
    <div class="backdrop-filter backdrop-blur-lg bg-white bg-opacity-80 p-8 md:p-10 rounded-2xl shadow-2xl w-full max-w-md space-y-8 border border-slate-200">
        <!-- Main Title Section -->
        <div class="text-center space-y-2">
            <h1 class="text-4xl font-extrabold text-gray-800 tracking-tight">Weight-to-Height Predictor</h1>
            <p class="text-gray-500 font-medium">A Simple Machine Learning Demonstration</p>
        </div>

        <!-- About Section for the Interviewer -->
        <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
            <h2 class="text-xl font-bold text-gray-800 mb-2">About This Project</h2>
            <p class="text-sm text-gray-600">
                This app uses a machine learning concept called <strong>Linear Regression</strong>. Think of it as finding the best-fit line through data points. The model was trained to predict a person's height based on their weight by finding a simple mathematical relationship. The app is built with the <strong>Flask</strong> web framework and uses <strong>Scikit-learn</strong> for the model. The model has an <strong>R-squared score of {{ r2_score }}</strong> on unseen test data, which shows its strong predictive power.
            </p>
        </div>

        <!-- How It Works Section -->
        <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
            <h2 class="text-xl font-bold text-gray-800 mb-2">How It Works</h2>
            <p class="text-sm text-gray-600">
                Simply enter a weight in kilograms below and click "Predict Height". The app sends your input to the model, which returns a height prediction based on its learned relationship.
            </p>
        </div>
        
        <!-- Prediction Form -->
        <form action="/predict" method="post" class="space-y-6">
            <!-- Label and Input for Weight -->
            <div class="space-y-2">
                <label for="weight" class="block text-sm font-semibold text-gray-700">Enter Weight (kg)</label>
                <input type="number" id="weight" name="weight" step="0.01" placeholder="e.g., 70.5" required
                       class="mt-1 block w-full px-5 py-3 bg-white border border-slate-300 rounded-xl shadow-inner focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-all duration-300 placeholder-gray-400">
            </div>

            <!-- Submit Button with a new gradient and subtle hover effect -->
            <button type="submit"
                    class="w-full bg-gradient-to-r from-sky-500 to-violet-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:from-sky-600 hover:to-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-all duration-300 transform hover:scale-105">
                Predict Height
            </button>
        </form>

        <!-- Prediction Result Display -->
        {% if prediction_text %}
        <div class="mt-6 p-6 bg-gradient-to-r from-sky-100 to-violet-100 border border-sky-300 rounded-xl shadow-lg text-center">
            <h2 class="text-xl font-bold text-sky-900">{{ prediction_text }}</h2>
        </div>
        
        <!-- Troubleshooting Section with new colors -->
        <div class="p-4 bg-emerald-50 rounded-xl border border-emerald-200 mt-6">
            <h2 class="text-xl font-bold text-emerald-800 mb-2">An Important Learning Moment</h2>
            <p class="text-sm text-emerald-600">
                When I first deployed this app, it gave a completely wrong prediction (a height of over 12 meters!). The problem was a common issue in machine learning: my model was trained on <strong>standardized data</strong> (data that was adjusted to a common scale), but the web app was feeding it **raw, unstandardized data**.
            </p>
            <p class="text-sm text-emerald-600 mt-2">
                I solved this by creating a <strong>pipeline</strong>. This is like a single tool that automatically does two things: it first standardizes the weight you enter and then feeds it to the model. This guarantees that the model always receives the data it expects, preventing these kinds of errors.
            </p>
            <p class="text-sm text-emerald-600 mt-2">
                I also learned about <strong>Data Leakage</strong>, which means accidentally using information from your test data to train your model. This makes your model look great on paper, but it won't perform well on new, unseen data. To avoid this, it's crucial to split your data into a training set and a testing set <strong>before</strong> any processing.
            </p>
        </div>
        {% endif %}

        <p class="text-xs text-gray-400 text-center">
            <span class="font-bold">Disclaimer:</span> This prediction is for demonstrative purposes only.
        </p>
    </div>

</body>
</html>
